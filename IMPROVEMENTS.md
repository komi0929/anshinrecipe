# 改善ログ

## 2025-12-18 - 通知機能とレシピ・検索・プロフィールUIの統合改善

**ステータス**: 🚀 本番反映済み

**変更内容**:
- **通知リストの折りたたみ機能**: 既読の通知を「既読の通知」セクションに収納し、プロフィールの省スペース化を実現。
- **ディープリンク・自動スクロール**: 通知からレシピページへ遷移した際、該当セクション（試してみたレポート等）へ自動でスムーズにスクロールする機能を実装。
- **レシピ投稿画面の改善**: 公開設定のデフォルト化（公開）、保存時の必須チェック、お子様選択に連動したアレルゲンの自動判定ロジック（手動削除可）を導入。
- **レシピ詳細画面の洗練**: 画像のトリミング防止（フルサイズ表示）、タイトルと写真の重なり解消、未設定項目（タグ・シーン）の非表示化、アレルゲン情報の文言明確化。
- **検索UIの修正**: レシピ検索窓のアイコンと文字の重なりを修正。
- **プロフィール画面の調整**: 冗長な「はじめまして」バッジの削除、アプリ内Q&Aセクション（FAQモーダル）の追加。

**関連ファイル**:
- `components/NotificationList.jsx`
- `components/RecipeForm.jsx`
- `components/TriedReportCard.jsx`
- `app/recipe/[id]/RecipeClient.jsx`
- `app/recipe/[id]/RecipeDetailPage.css`
- `app/page.js`
- `app/profile/page.js`

**確認ポイント**:
- [x] 既読の通知が折りたたまれていること
- [x] レポート通知タップで「試してみた」までスクロールすること
- [x] レシピ画像が詳細画面で全体表示されていること
- [x] アレルギー除去情報が「●●なし」と分かりやすく表示されること
- [x] プロフィールにQ&A項目があり、タップで内容が表示されること

## 2025-12-18 - オンボーディング体験の強化

**ステータス**: 🚀 本番反映済み

**変更内容**:
- **ウェルカムスライダー**: 未ログインユーザー向けにアプリの魅力を伝える3ステップのスライダーを実装。
- **セットアップウィザード**: 初回ログイン時に「魔法のパパ・ママ設定」としてお子様情報（名前、アイコン、アレルギー）を対話形式で登録する機能を実装。
- **コーチマーク（機能ガイド）**: 検索入力など特定の機能に対して、初めてのユーザーに使い方を促すガイド表示を追加。

**関連ファイル**:
- `components/WelcomeSlider.jsx`
- `components/OnboardingWizard.jsx`
- `components/CoachMark.jsx`
- `app/page.js`

## 2025-12-17 - レシピ登録とプロフィール設定のUI改善

**ステータス**: 🚀 本番反映済み

**変更内容**:
- 子供登録UIの初期登録画面との統一（アコーディオン表示、アイコン選択肢の拡大）。
- アレルギー登録情報の正確性向上。

**関連ファイル**:
- `app/profile/page.js`
- `components/RecipeForm.jsx`

## 2025-12-16 - LINEログイン不具合修正と詳細ページUI向上

**ステータス**: 🚀 本番反映済み

**変更内容**:
- 既存ユーザーのLINEログイン時にセッションが正しく確立されない問題を修正。
- レシピ詳細ページの文字サイズ拡大、著者情報の視認性向上。

**関連ファイル**:
- `app/api/auth/line/callback/route.js`
- `app/recipe/[id]/page.js`

## 2025-12-12 - パフォーマンス最適化とUX向上

**ステータス**: 🚀 本番反映済み

**変更内容**:
- レシピ登録時のOGP画像取得の高速化（バックグラウンド処理化）。
- ログインLPとホーム画面を統合し、ユーザー体験をスムーズ化。

**関連ファイル**:
- `app/api/ogp/route.js`
- `app/page.js`
