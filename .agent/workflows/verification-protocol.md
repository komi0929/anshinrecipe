---
description: 改善・修正タスクにおける完全証拠主義プロトコル (No Log, No Report)
---

# 完全証拠主義プロトコル (No Log, No Report)

このワークフローは、システムの修正・改善を行った際に**必ず**実行しなければならない。
「目視確認した」「直ったはず」という主観報告は禁止されている。

## ルール概要

1. **証拠なき報告は無効**: スクリーンショット、実行ログファイルがない報告は完了とみなさない。
2. **ツールの強制利用**: 証拠作成には必ずツール（browser_subagent, run_command）を使用する。
3. **【NEW】データ品質の絶対検証**: 「エラーが出ない」ことと「使えるデータである」ことは別である。出力されたデータの**中身（Content）**を検証しなければならない。

## 手順

1. **実装・修正**
   通常通りコードを修正する。

2. **【必須】自動検証の実行**

   **A. UI修正の場合（browser_subagent）**
   - ブラウザを起動し、修正箇所のページを開く。
   - 修正が反映されていることがわかる状態でスクリーンショットを撮影する。
   - 画像リンク切れや、不自然な表示（ゴミデータ）がないか、画像を拡大して確認する。
   - レコーディング名: `verification_[feature_name]`

   **B. ロジック/データ処理の場合（verify script）**
   - **リアルデータテスト**: モックではなく、実際に問題が起きた対象（URL/データ）を使ってスクリプトを実行する。
   - **アンチパターンチェック**:
     - 「影」「袋」「様子」などの既知のゴミデータが含まれていないか？
     - 画像URLは `http` から始まる絶対パスになっているか？
     - データ件数は妥当か？（0件や、多すぎる件数は異常）
   - **ログ出力**: 検証スクリプトの出力結果（JSON/テキスト）を提示する。

3. **報告（Evidence Submission）**
   以下のフォーマットで報告を行う。

   ```markdown
   ## 修正検証報告

   **ステータス**: ✅ 検証成功 / ❌ 検証失敗
   **対象データ**: [テストに使用したURL/場所]

   **品質チェック**:

   - [ ] ゴミデータ（影、風景等）が含まれていないことを確認
   - [ ] 画像が表示可能（絶対パス）であることを確認
   - [ ] 意図したデータ（メニュー名、価格等）が抽出されていることを確認

   **エビデンス**:

   1. [UI証拠画像](path/to/screenshot)
   2. [実行ログ](path/to/log_or_command_output)
   ```

// turbo 4. **Git記録**
証拠確認後のみ、コミットとプッシュを行う。
コミットメッセージにはverifiedプレフィックスを推奨する。
